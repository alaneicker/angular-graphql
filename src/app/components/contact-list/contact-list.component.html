<div class="u-flex u-flex--column">

  <!-- Header -->
  <app-header>
    <ng-container header-left>
      <span class="txt-24 txt-medium">{{ title }}</span>
    </ng-container>
    <ng-container header-right>
        <ul class="h-list">
          <li>
            <a class="txt-15 txt-medium txt-no-decoration" 
               href="javascript:void(0)" 
               (click)="openAddContactModal()">Add Contact</a>
          </li>
          <li>
              <a class="txt-15 txt-medium txt-no-decoration"
                 href="javascript:void(0)"
                 (click)="toggleMenu()">Menu</a>
          </li>
        </ul>
    </ng-container>
  </app-header>

  <div class="contact-list">

    <app-contact-list-menu 
      [selectedContactId]="selectedContact?.id"
      [contacts]="allContacts"
      [isOpen]="menuIsOpen"
      (selection)="getContact($event)">
    </app-contact-list-menu>

    <app-contact-list-detail 
      [selectedContact]="selectedContact"
      (update)="updateContact($event)"
      (delete)="deleteContact($event)">
    </app-contact-list-detail>

  </div>
</div>

<app-modal 
  *ngIf="showAddContactModal"
  (close)="closeAddContactModal($event)">
    <ng-container modal-header>
      {{ itemToUpdate ? 'Update' : 'Add New' }} Contact
    </ng-container>
    <ng-container modal-body>
        <div class="padding-32">
          <app-add-contact-form 
            [formData]="itemToUpdate"
            (onsubmit)="saveContact($event)">
          </app-add-contact-form>
        </div>
    </ng-container>
</app-modal>

<!-- 
  TODO: Make toaster service so that this can be made global.
  Toaster service will have an observable to check for new
  toasts and update toast array.
-->
<app-toaster>
    <app-toast 
      [show]="showToast">
      <span [innerHTML]="confirmationString"></span>
    </app-toast>
</app-toaster>